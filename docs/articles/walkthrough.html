<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Walkthrough • openwashdata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Walkthrough">
<meta property="og:description" content="openwashdata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">openwashdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/walkthrough.html">Walkthrough</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Walkthrough</h1>
            
      
      
      <div class="hidden name"><code>walkthrough.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">openwashdata</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">openwashdata</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/init_data_pkg.html">init_data_pkg</a></span><span class="op">(</span><span class="st">"faecalsludgekampala"</span>,</span>
<span>              path <span class="op">=</span> <span class="st">"~/repositories/openwashdata/"</span><span class="op">)</span></span></code></pre></div>
<p>Let’s assume we have created a dataset named
<code>faecal-sludge-kampala</code> in a folder
<code>~/repositories/openwashdata/</code>. This will open up new
instance of RStudio with a project called superheros located in the
<code>openwashdata-dev</code> folder. Let’s focus our attention to this
new instance of RStudio and walk through the steps in
<code>bootstrap/bootstrap_pkg.R</code>.</p>
<div class="section level2">
<h2 id="adding-authors">1. Adding Authors<a class="anchor" aria-label="anchor" href="#adding-authors"></a>
</h2>
<p>Once we got a the package skeleton, let’s use the
<code>authors.csv</code> template file to conveniently add multiple
authors.</p>
<pre><code>first_name,last_name,email,role,orcid
"Lars", "Schöbitz", "lschoebitz@ethz.ch", "aut;cre","0000-0003-2196-5015"
"Matt", "Bannert", "bannert@kof.ethz.ch", "aut","0000-0001-7901-9254"
</code></pre>
<blockquote>
<p>Note the use of “;” to list Lars’ multiple roles as he is author and
maintainer of the package.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="create-a-citation-file">2. Create a Citation File<a class="anchor" aria-label="anchor" href="#create-a-citation-file"></a>
</h2>
<p>After we entered all author information to
<code>bootstrap/authors.csv</code>, let’s turn to the
<code>bootstrap/bootstrap.R</code> script of our package project
<code>faecalsludgekampala</code> and execute</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/use_authors_from_csv.html">use_authors_from_csv</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>to create a CITATION file.</p>
<p>CITATION files facilitate citation of the data package as they are
shown in places such GitHub or Zenodo. For more information on citation
files and further modification, check the cffr package: <a href="https://docs.ropensci.org/cffr/" class="external-link uri">https://docs.ropensci.org/cffr/</a>.</p>
<p>Once the package is built, citation information will be accessible
through the corresponding R function which will create BibTeX
output.</p>
</div>
<div class="section level2">
<h2 id="extract-dictionary-skeleton-from-data-file">3. Extract Dictionary Skeleton from Data File<a class="anchor" aria-label="anchor" href="#extract-dictionary-skeleton-from-data-file"></a>
</h2>
<p>Now let’s move whatever data files we have in place. This means, move
our raw data file(s) to the <code>data-raw</code> folder of our package.
In our case we have a single spreadsheet file
<code>sustainability.xls</code><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>. So let’s try to read this file into R and
see how it behaves.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org" class="external-link">readxl</a></span><span class="op">)</span></span>
<span><span class="va">stn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_xls</a></span><span class="op">(</span><span class="st">"data-raw/sustainability.xls"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5,653 × 1</span></span></span>
<span><span class="co">#&gt;    FID;Shape *;Shape__;Date_;Time_;Date_1;Time_1;LATITUDE;N_S;LONGITUDE;E_W;HE…¹</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                                        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 117;Point ZM;Point;30.03.2015;10:53:03.00;30.03.2015;13:53:03.00;0.358437;N;…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 118;Point ZM;Point;31.03.2015;03:53:41.00;31.03.2015;06:53:41.00;0.348626;N;…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 119;Point ZM;Point;31.03.2015;10:33:01.00;31.03.2015;13:33:01.00;0.322447;N;…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 120;Point ZM;Point;31.03.2015;11:42:01.00;31.03.2015;14:42:01.00;0.363645;N;…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 121;Point ZM;Point;01.04.2015;07:03:01.00;01.04.2015;10:03:01.00;0.360351;N;…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 122;Point ZM;Point;01.04.2015;09:14:21.00;01.04.2015;12:14:21.00;0.311899;N;…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 123;Point ZM;Point;01.04.2015;10:17:51.00;01.04.2015;13:17:51.00;0.319267;N;…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 124;Point ZM;Point;02.04.2015;08:03:12.00;02.04.2015;11:03:12.00;0.340054;N;…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 125;Point ZM;Point;02.04.2015;10:54:02.00;02.04.2015;13:54:02.00;0.37151;N;3…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 126;Point ZM;Point;02.04.2015;12:31:12.00;02.04.2015;15:31:12.00;0.3716;N;32…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 5,643 more rows, and abbreviated variable name</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ¹​`FID;Shape *;Shape__;Date_;Time_;Date_1;Time_1;LATITUDE;N_S;LONGITUDE;E_W;HEIGHT;Numberplat;Volume;Plant`</span></span></span></code></pre>
<p>As you can see the data does not behave well, yet. Somehow
<code>readxl</code> does not recognize the semicolon <code>;</code> as a
delimiter and therefore only sees a single column. While this is
uncommon for Excel spreadsheet and more reminiscant of a common
<code>.csv</code> issue, it should be an easy fix.</p>
</div>
<div class="section level2">
<h2 id="init-git-version-control">4. Init Git Version Control<a class="anchor" aria-label="anchor" href="#init-git-version-control"></a>
</h2>
<p>Once a first version of all files is around, it’s a good time to
initialize a <code>git</code> repository<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/init_git.html">init_git</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="check-out-work">5. Check out Work<a class="anchor" aria-label="anchor" href="#check-out-work"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">faecalsludgekampala</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"faecalsludgekampala"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p>This raw spreadsheet file ships with the openwashdata
package. In case you want to reproduce this exact example, you can find
the file using
<code>system.file("sustainability.xls", package = "openwashdata")</code><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Note that git is not part of R and a git client needs to
be installed. For more information on git and git based workflows, see
also <a href="https://rse-book.github.io/version-control.html" class="external-link uri">https://rse-book.github.io/version-control.html</a>.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Lars Schöbitz, Matthias Bannert.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
